services:
  miner-controller:
    image: ghcr.io/renegadeuk/home_miner_manager:latest
    # build: .  # Uncomment for local development
    container_name: v0-miner-controller
    ports:
      - "${WEB_PORT:-8080}:${WEB_PORT:-8080}"
      - "1883:1883"  # MQTT
      - "9002:9001"  # MQTT WebSockets
    volumes:
      - ./config:/config
    environment:
      - WEB_PORT=${WEB_PORT:-8080}
      - TZ=${TZ:-UTC}
      - PUID=${PUID:-1000}
      - PGID=${PGID:-1000}
    restart: unless-stopped
