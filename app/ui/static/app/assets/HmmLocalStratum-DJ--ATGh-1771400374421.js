import{m as he,r as j,a as q,n as ue,j as e,o as be,W as re,C as _,d as v,e as f,f as y,L as pe,R as ge,a1 as D,a2 as ie}from"./index-W6M6QzfI-1771400374421.js";import{C as Ne}from"./check-circle-2-CniGzN2F-1771400374421.js";import{A as je}from"./alert-triangle-BZmzl0GL-1771400374421.js";const _e="hmm_local_stratum";function ve(i){return typeof i!="number"||!Number.isFinite(i)?"N/A":`${i.toFixed(2)}%`}function t(i){return typeof i!="number"||!Number.isFinite(i)?"N/A":new Intl.NumberFormat().format(i)}function fe(i){return typeof i!="number"||!Number.isFinite(i)?"N/A":i>=1024?`${(i/1024).toFixed(2)} GB`:`${i.toFixed(1)} MB`}function de(i){if(!i)return{label:"Unknown",className:"border-slate-700/50 bg-slate-900/30 text-slate-300"};const b=new Date(i).getTime();if(Number.isNaN(b))return{label:"Unknown",className:"border-slate-700/50 bg-slate-900/30 text-slate-300"};const u=Math.max(0,Math.floor((Date.now()-b)/1e3));return u<=60?{label:"Fresh",className:"border-emerald-700/50 bg-emerald-900/30 text-emerald-300"}:u<=180?{label:"Aging",className:"border-amber-700/60 bg-amber-900/30 text-amber-300"}:{label:"Stale",className:"border-red-700/60 bg-red-900/30 text-red-300"}}function ye(i){return typeof i!="number"||!Number.isFinite(i)?{label:"Unknown",className:"border-slate-700/50 bg-slate-900/30 text-slate-300"}:i>=5?{label:"High",className:"border-red-700/60 bg-red-900/30 text-red-300"}:i>=3?{label:"Elevated",className:"border-amber-700/60 bg-amber-900/30 text-amber-300"}:{label:"Normal",className:"border-emerald-700/50 bg-emerald-900/30 text-emerald-300"}}function F(i){if(!i)return"Unknown";const b=new Date(i).getTime();if(Number.isNaN(b))return i;const u=Math.max(0,Math.floor((Date.now()-b)/1e3));if(u<60)return`${u}s ago`;const p=Math.floor(u/60);if(p<60)return`${p}m ago`;const g=Math.floor(p/60);return g<24?`${g}h ago`:`${Math.floor(g/24)}d ago`}function Fe(){var $,I,R;const i=he(),[b,u]=j.useState(!1),[p,g]=j.useState(null),k=q({queryKey:["integrations","hmm-local-stratum","settings"],queryFn:()=>D.getHmmLocalStratumSettings(),staleTime:3e4});j.useEffect(()=>{var a;typeof((a=k.data)==null?void 0:a.enabled)=="boolean"&&u(k.data.enabled)},[($=k.data)==null?void 0:$.enabled]);const A=ue({mutationFn:()=>D.saveHmmLocalStratumSettings(b),onSuccess:a=>{g({tone:"success",message:a.message||"Settings saved"}),i.invalidateQueries({queryKey:["integrations","hmm-local-stratum","settings"]}),i.invalidateQueries({queryKey:["layout","stratum-dashboards-enabled"]}),setTimeout(()=>g(null),3500)},onError:a=>{g({tone:"error",message:a.message||"Failed to save settings"}),setTimeout(()=>g(null),3500)}}),M=q({queryKey:["integrations","hmm-local-stratum","tiles"],queryFn:()=>ie.getPoolTiles(),refetchInterval:3e4,refetchOnWindowFocus:!1,staleTime:25e3}),T=q({queryKey:["integrations","hmm-local-stratum","recovery-status"],queryFn:()=>ie.getRecoveryStatus(24),refetchInterval:3e4,refetchOnWindowFocus:!1,staleTime:25e3}),C=q({queryKey:["integrations","hmm-local-stratum","operational"],queryFn:()=>D.getHmmLocalStratumOperational(),refetchInterval:3e4,refetchOnWindowFocus:!1,staleTime:25e3}),N=j.useMemo(()=>Object.values(M.data||{}).filter(a=>a.pool_type===_e),[M.data]),L=j.useMemo(()=>{var h;const a=new Map;for(const c of((h=T.data)==null?void 0:h.pools)||[])a.set(c.pool_id,c);return a},[(I=T.data)==null?void 0:I.pools]),ne=j.useMemo(()=>{var h,c;const a=new Map;for(const r of((h=C.data)==null?void 0:h.pools)||[])typeof((c=r.pool)==null?void 0:c.id)=="number"&&a.set(r.pool.id,r);return a},[(R=C.data)==null?void 0:R.pools]),S=j.useMemo(()=>{const a=N.filter(s=>s.tile_1_health.health_status===!1).length,h=N.reduce((s,d)=>{const n=Number.parseInt(d.pool_id,10),x=Number.isNaN(n)?void 0:L.get(n);return s.recovered+=(x==null?void 0:x.recovered_count)||0,s.unresolved+=(x==null?void 0:x.unresolved_count)||0,s},{recovered:0,unresolved:0}),c=N.filter(s=>de(s.last_updated).label==="Stale").length,r=N.reduce((s,d)=>{var n;return s+(((n=d.warnings)==null?void 0:n.length)||0)},0);return{unhealthyPools:a,staleFeeds:c,driverWarnings:r,recovered:h.recovered,unresolved:h.unresolved}},[L,N]);return M.isLoading?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(be,{className:"h-8 w-8 animate-spin text-blue-500"})}):M.isError?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-3xl font-semibold text-foreground",children:[e.jsx(re,{className:"h-8 w-8 text-blue-400"}),e.jsx("span",{children:"HMM-Local Stratum"})]}),e.jsx("div",{className:"rounded-lg border border-red-700 bg-red-900/30 p-4 text-red-200",children:"Failed to load Stratum operational data."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-3xl font-semibold text-foreground",children:[e.jsx(re,{className:"h-8 w-8 text-blue-400"}),e.jsx("span",{children:"HMM-Local Stratum"})]}),e.jsx("p",{className:"text-base text-muted-foreground",children:"Dedicated operational status view for local Stratum integration pools."})]}),p&&e.jsx("div",{className:`rounded-lg border px-4 py-3 text-sm ${p.tone==="success"?"border-emerald-700/60 bg-emerald-900/30 text-emerald-200":p.tone==="error"?"border-red-700/60 bg-red-900/30 text-red-200":"border-blue-700/60 bg-blue-900/30 text-blue-200"}`,children:p.message}),e.jsxs(_,{children:[e.jsx(v,{children:e.jsx(f,{children:"HMM-Local Stratum dashboards"})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start gap-3 rounded-lg border border-slate-700/50 bg-slate-900/30 p-3",children:[e.jsx("input",{type:"checkbox",className:"mt-0.5 h-4 w-4",checked:b,onChange:a=>u(a.target.checked),disabled:k.isLoading||A.isPending}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-slate-100",children:"Enable dedicated HMM-Local Stratum dashboards"}),e.jsx("div",{className:"text-xs text-slate-400",children:"When enabled, a new top-level navigation section appears with BTC, BCH and DGB pages focused on mining pool data."})]})]}),e.jsx("button",{type:"button",className:"inline-flex items-center rounded-md border border-blue-700/60 bg-blue-900/30 px-3 py-2 text-sm text-blue-200 hover:bg-blue-900/40 disabled:opacity-50",onClick:()=>A.mutate(),disabled:A.isPending||k.isLoading,children:A.isPending?"Saving…":"Save setting"})]})]}),N.length===0?e.jsxs(_,{children:[e.jsx(v,{children:e.jsx(f,{children:"No HMM-Local Stratum pool configured"})}),e.jsxs(y,{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Add or update a pool with driver ",e.jsx("span",{className:"font-semibold text-foreground",children:"hmm_local_stratum"})," to populate this page."]}),e.jsx("div",{children:e.jsx(pe,{className:"text-blue-400 hover:text-blue-300 underline",to:"/pools",children:"Go to Pools"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[e.jsxs(_,{children:[e.jsx(v,{className:"pb-2",children:e.jsx(f,{className:"text-sm text-muted-foreground",children:"Configured pools"})}),e.jsxs(y,{children:[e.jsx("div",{className:"text-3xl font-semibold",children:N.length}),e.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[S.unhealthyPools," degraded"]})]})]}),e.jsxs(_,{children:[e.jsx(v,{className:"pb-2",children:e.jsx(f,{className:"text-sm text-muted-foreground",children:"Data freshness risk"})}),e.jsxs(y,{children:[e.jsx("div",{className:"text-3xl font-semibold",children:S.staleFeeds}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Stale feeds (> 3m old)"})]})]}),e.jsxs(_,{children:[e.jsx(v,{className:"pb-2",children:e.jsx(f,{className:"text-sm text-muted-foreground",children:"Driver warnings"})}),e.jsxs(y,{children:[e.jsx("div",{className:"text-3xl font-semibold",children:S.driverWarnings}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Unresolved / not-loaded flags"})]})]}),e.jsxs(_,{children:[e.jsx(v,{className:"pb-2",children:e.jsx(f,{className:"text-sm text-muted-foreground",children:"Driver recoveries (24h)"})}),e.jsxs(y,{children:[e.jsx("div",{className:"text-3xl font-semibold",children:S.recovered}),e.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[S.unresolved," unresolved"]})]})]})]}),e.jsx("div",{className:"space-y-4",children:N.map(a=>{var z,G,V,Y,J,X,Z,H,ee,se,te,ae;const h=Number.parseInt(a.pool_id,10),c=Number.isNaN(h)?void 0:L.get(h),r=Number.isNaN(h)?void 0:ne.get(h),s=(z=r==null?void 0:r.stats)==null?void 0:z.datastore,d=r==null?void 0:r.database,n=d==null?void 0:d.pool,x=d==null?void 0:d.postgresql,o=(G=d==null?void 0:d.high_water_marks)==null?void 0:G.last_24h,m=(V=d==null?void 0:d.high_water_marks)==null?void 0:V.since_boot,w=String(a.tile_4_blocks.currency||"").toUpperCase(),l=w?(J=(Y=r==null?void 0:r.stats)==null?void 0:Y.coins)==null?void 0:J[w]:void 0,W=Number((s==null?void 0:s.total_write_batches_ok)||0),ce=Number((s==null?void 0:s.total_write_batches_failed)||0),Q=W+ce,E=Q>0?W/Q*100:null,U=Number((l==null?void 0:l.shares_accepted)||0),xe=Number((l==null?void 0:l.shares_rejected)||0),O=U+xe,K=O>0?U/O*100:null,oe=Number((l==null?void 0:l.block_candidates)||0),me=Number((l==null?void 0:l.blocks_rejected)||0),P=de(a.last_updated),B=ye(a.tile_3_shares.reject_rate);return e.jsxs(_,{children:[e.jsxs(v,{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx(f,{className:"text-lg",children:a.display_name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-700 bg-slate-900/60 px-2 py-1 text-slate-300",children:[e.jsx(ge,{className:"h-3 w-3"})," Updated ",F(a.last_updated)]}),e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full border px-2 py-1 ${P.className}`,children:["Feed ",P.label]}),a.tile_1_health.health_status?e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-700/50 bg-emerald-900/30 px-2 py-1 text-emerald-300",children:[e.jsx(Ne,{className:"h-3 w-3"})," Healthy"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-700/60 bg-amber-900/30 px-2 py-1 text-amber-300",children:[e.jsx(je,{className:"h-3 w-3"})," Degraded"]})]})]}),(a.warnings||[]).length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:(a.warnings||[]).map(le=>e.jsx("span",{className:"inline-flex rounded-full border border-amber-700/60 bg-amber-900/30 px-2 py-1 text-xs text-amber-300",children:le},`${a.pool_id}-${le}`))})]}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Service health"}),e.jsx("div",{className:"mt-1 text-sm text-slate-100",children:a.tile_1_health.health_message||"No message"}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["Latency: ",a.tile_1_health.latency_ms??"N/A"," ms"]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Operational info (/stats)"}),C.isLoading?e.jsx("div",{className:"mt-1 text-sm text-slate-300",children:"Loading operational stats…"}):(r==null?void 0:r.status)!=="ok"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-1 text-sm text-amber-300",children:"Unavailable"}),e.jsx("div",{className:"mt-1 text-xs text-slate-400",children:(r==null?void 0:r.error)||"No response from Stratum API"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-1 text-sm text-slate-100",children:["Queue: ",t(s==null?void 0:s.queue_depth)," / max seen ",t(s==null?void 0:s.max_queue_depth_seen)]}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["Rows written: ",t(s==null?void 0:s.total_rows_written)," · Dropped: ",t(s==null?void 0:s.total_dropped)]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Batches ok/fail: ",t(s==null?void 0:s.total_write_batches_ok)," / ",t(s==null?void 0:s.total_write_batches_failed)]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Enqueued: ",t(s==null?void 0:s.total_enqueued)," · Spooled/Replayed: ",t(s==null?void 0:s.total_spooled_rows)," / ",t(s==null?void 0:s.total_replayed_rows)]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Retries: ",t(s==null?void 0:s.total_retries)," · Consecutive failures: ",t(s==null?void 0:s.consecutive_write_failures)]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Last write: ",F((s==null?void 0:s.last_write_ok_at)||null)," · Latency: ",((X=s==null?void 0:s.last_write_latency_ms)==null?void 0:X.toFixed(2))??"N/A"," ms"]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["DB: ",(Z=r.stats)!=null&&Z.db_enabled?"enabled":"disabled"," · Datastore: ",s!=null&&s.enabled?"enabled":"disabled"]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Retention (d): H ",t(s==null?void 0:s.hashrate_retention_days)," · N ",t(s==null?void 0:s.network_retention_days)," · K ",t(s==null?void 0:s.kpi_retention_days)]}),(s==null?void 0:s.spool_path)&&e.jsxs("div",{className:"truncate text-xs text-slate-500",title:s.spool_path,children:["Spool path: ",s.spool_path]})]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quality / reliability"}),e.jsx("div",{className:"mt-1 flex items-center gap-2",children:e.jsxs("span",{className:`inline-flex rounded-full border px-2 py-1 text-xs ${B.className}`,children:["Reject risk: ",B.label]})}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["Reject rate: ",ve(a.tile_3_shares.reject_rate)]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Valid ",a.tile_3_shares.shares_valid??"N/A"," · Invalid ",a.tile_3_shares.shares_invalid??"N/A"]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Driver recovery (24h)"}),e.jsxs("div",{className:"mt-1 text-sm text-slate-100",children:["Recovered: ",(c==null?void 0:c.recovered_count)||0]}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["Unresolved: ",(c==null?void 0:c.unresolved_count)||0]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Last event: ",c!=null&&c.last_event_at?F(c.last_event_at):"None"]})]})]}),(r==null?void 0:r.status)==="ok"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"Queue pressure"}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-slate-100",children:t(s==null?void 0:s.queue_depth)}),e.jsxs("div",{className:"text-xs text-slate-400",children:["max seen ",t(s==null?void 0:s.max_queue_depth_seen)]}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["dropped ",t(s==null?void 0:s.total_dropped)," · retries ",t(s==null?void 0:s.total_retries)]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"Write reliability"}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-slate-100",children:E!==null?`${E.toFixed(1)}%`:"N/A"}),e.jsxs("div",{className:"text-xs text-slate-400",children:["ok/fail ",t(s==null?void 0:s.total_write_batches_ok)," / ",t(s==null?void 0:s.total_write_batches_failed)]}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["last write ",F((s==null?void 0:s.last_write_ok_at)||null)," · ",((H=s==null?void 0:s.last_write_latency_ms)==null?void 0:H.toFixed(1))??"N/A"," ms"]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsxs("div",{className:"text-xs text-slate-400",children:["Share pipeline",w?` (${w})`:""]}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-slate-100",children:K!==null?`${K.toFixed(1)}%`:"N/A"}),e.jsx("div",{className:"text-xs text-slate-400",children:"accept rate"}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["accepted ",t(l==null?void 0:l.shares_accepted)," · rejected ",t(l==null?void 0:l.shares_rejected)]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["workers ",t(l==null?void 0:l.connected_workers)," · last share ",F((l==null?void 0:l.last_share_at)||null)]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsxs("div",{className:"text-xs text-slate-400",children:["Block pipeline",w?` (${w})`:""]}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-slate-100",children:t(l==null?void 0:l.blocks_accepted)}),e.jsx("div",{className:"text-xs text-slate-400",children:"accepted by node"}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["candidates ",t(oe)," · rejected ",t(me)]}),e.jsxs("div",{className:"text-xs text-slate-400 truncate",title:(l==null?void 0:l.last_block_submit_result)||"",children:["last result ",(l==null?void 0:l.last_block_submit_result)||"N/A"]})]})]}),e.jsxs("div",{className:"border-t border-slate-700/60 pt-4",children:[e.jsx("div",{className:"mb-3 text-xs uppercase tracking-wide text-slate-400",children:"Stratum DB health"}),(r==null?void 0:r.database_status)!=="ok"?e.jsxs("div",{className:"rounded-lg border border-amber-700/60 bg-amber-900/30 p-3 text-xs text-amber-300",children:["Unavailable: ",(r==null?void 0:r.database_error)||"No DB health response"]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"Connection Pool"}),e.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-xl font-semibold text-slate-100",children:[((ee=n==null?void 0:n.utilization_percent)==null?void 0:ee.toFixed(1))??"N/A","%"]}),e.jsx("span",{className:"text-xs text-slate-400",children:"utilized"})]}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:[t(n==null?void 0:n.checked_out),"/",t(n==null?void 0:n.total_capacity)," (",t((n==null?void 0:n.max_capacity_configured)??(n==null?void 0:n.total_capacity))," max)"]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"Active Queries"}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-slate-100",children:t(x==null?void 0:x.active_connections)}),e.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["Slow (>1m): ",t(x==null?void 0:x.long_running_queries)]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"Database Size"}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-slate-100",children:fe(x==null?void 0:x.database_size_mb)}),e.jsx("div",{className:"mt-1 text-xs text-slate-400",children:"total storage"})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"Health Status"}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-1 text-xs ${(d==null?void 0:d.status)==="healthy"?"border-emerald-700/50 bg-emerald-900/30 text-emerald-300":(d==null?void 0:d.status)==="warning"?"border-amber-700/60 bg-amber-900/30 text-amber-300":"border-red-700/60 bg-red-900/30 text-red-300"}`,children:((d==null?void 0:d.status)||"unknown").toUpperCase()})})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"High-water marks (last 24h)"}),e.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Since ",((se=d==null?void 0:d.high_water_marks)==null?void 0:se.last_24h_date)||"N/A"]}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-300",children:[e.jsxs("div",{children:["Pool peak: ",t(o==null?void 0:o.db_pool_in_use_peak)]}),e.jsxs("div",{children:["Active peak: ",t(o==null?void 0:o.active_queries_peak)]}),e.jsxs("div",{children:["Wait count: ",t(o==null?void 0:o.db_pool_wait_count)]}),e.jsxs("div",{children:["Wait sec: ",((te=o==null?void 0:o.db_pool_wait_seconds_sum)==null?void 0:te.toFixed(1))??"N/A","s"]}),e.jsxs("div",{children:["Slow queries: ",t(o==null?void 0:o.slow_queries_peak)]})]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/60 bg-slate-900/40 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"High-water marks (since boot)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-300",children:[e.jsxs("div",{children:["Pool peak: ",t(m==null?void 0:m.db_pool_in_use_peak)]}),e.jsxs("div",{children:["Active peak: ",t(m==null?void 0:m.active_queries_peak)]}),e.jsxs("div",{children:["Wait count: ",t(m==null?void 0:m.db_pool_wait_count)]}),e.jsxs("div",{children:["Wait sec: ",((ae=m==null?void 0:m.db_pool_wait_seconds_sum)==null?void 0:ae.toFixed(1))??"N/A","s"]}),e.jsxs("div",{children:["Slow queries: ",t(m==null?void 0:m.slow_queries_peak)]})]})]})]})]})]})]})]},a.pool_id)})})]})]})}export{Fe as default};
